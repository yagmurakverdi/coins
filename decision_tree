# -*- coding: utf-8 -*-
"""01.12.2021 Decision Tree

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1wNAXEOqsvkVGYPZcDNwNfNtyHDh9JTZn
"""

import pandas as pd

import seaborn as sns
from sklearn.tree import DecisionTreeClassifier
from sklearn.tree import export_graphviz
from sklearn.linear_model import LinearRegression
import graphviz

titanic=sns.load_dataset("titanic")

titanic.head(3)

titanic=titanic[["survived","pclass","sex","age","sibsp","embarked"]]

titanic.head(3)

titanic=pd.get_dummies(titanic,columns=["sex","embarked"],drop_first=True)

titanic=titanic.dropna()

y=titanic[["survived"]]
x=titanic.drop(columns="survived",axis=1) #satır düşüreceğim zaman axis 1 sutun düşüreceğim zaman axis 0

#Linear ile Hesap
reg=LinearRegression()
model=reg.fit(x,y)
model.score(x,y)

#decision tree
tree=DecisionTreeClassifier(max_depth=14)
model=tree.fit(x,y)
model.score(x,y)

dot_data=export_graphviz(tree,feature_names=x.columns)

graph=graphviz.Source(dot_data)

graph

combat=pd.read_csv("combats.csv")

combat

combat['first_win']=combat["First_pokemon"]==combat["Winner"]

combat

x=combat[["first_win"]]
y=combat[["First_pokemon","Second_pokemon"]]

tree=DecisionTreeClassifier()
model=tree.fit(x,y)

model.score(x,y)

model.predict([["1,2"]])

